name: "Setup Nextflow and Java"
description: "Install Java and Nextflow, and add it to the PATH"
author: "nf-core"
inputs:
  version:
    description: "The Nextflow version to download and use."
    required: false
    default: "latest-stable"
  all:
    description: "Whether to install every Nextflow release."
    required: false
    default: false
  java-version:
    description: "The Java version to use."
    required: false
    default: "17" # 21 suported as of Nextflow 24.05.0-edge. 11 is deprecated from 24.11.0-edge
  java-distribution:
    description: "The Java distribution to use."
    required: false
    default: "zulu"
runs:
  using: "composite"
  steps:
    - name: Setup Java
      uses: actions/setup-java@v2
      with:
        java-version: ${{ inputs.java-version }}
        distribution: ${{ inputs.java-distribution }}

    - name: Checkout setup-nextflow
      uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2
      with:
        repository: nf-core/setup-nextflow
        ref: ${{ env.ACTION_REF }}
        path: setup-nextflow
      env:
        ACTION_REF: ${{ github.action_ref }}

    - name: Install Nextflow
      uses: ./setup-nextflow/action/
      with:
        version: ${{ inputs.version }}
        all: ${{ inputs.all }}
branding:
  icon: "shuffle"
  color: "green"
